<!DOCTYPE html>
<html>
<head>
  <title>Albino for Pantip</title>
  <link rel="stylesheet" type="text/css" href="asset/css/style.css" />
  <link rel="stylesheet" type="text/css" href="asset/css/material-icons.css" />

  <link rel="shortcut icon" type="image/x-icon" href="asset/img/favicon.ico" />

  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0,
	 maximum-scale=1.0, user-scalable=0">
</head>
<body @click="dismissDialogues">
<div id="sidebar" class="sElevation2">
  <div id="sidebarHead">
    <div id="logo">
      <img src="asset/img/logo.png"/>
      <img src="asset/img/logoHover.png" class="logoHover"/>
    </div>
    <div class="sidebarToolbar">
      <div id="forumSelector" class="sClickable" @click.stop="showDialogues.forumSelect = true">
        <span id="forumSelectorName">{{ forumDisplayName }}</span>
        <i class="ic">arrow_drop_down</i>
      </div>
      <toolbar-icon icon="refresh" label="รีเฟรชรายชื่อกระทู้" @click="loadTopics(currentForum)"></toolbar-icon>
      <toolbar-icon icon="more_vert" label="อื่น ๆ" @click.stop="showDialogues.overflow = true"></toolbar-icon>
    </div>
    <ul id="forumSelect" class="dialogue sElevation2 sClickable"
        :class="{ active:showDialogues.forumSelect }">
      <forum-select-item v-for="forum in forums" :name="forum.name">
        {{ forum.label }}
      </forum-select-item>
    </ul>
    <ul id="overflow" class="dialogue sElevation2"
        :class="{ active:showDialogues.overflow }">
      <li class="sClickable" @click="showSearch = true">ค้นหา</a></li>
      <li class="sClickable" @click="goToSettings">ตั้งค่า</a></li>
      <li class="sClickable" @click="loadPage('about')">เกี่ยวกับ Albino</li>
    </ul>
  </div>
  <div id="leftPane" v-show="!showSearch">
    <div class="loading sAccentText"><i class="ic">refresh</i></div>
    <div id="bestTopicContainer">
      <div id="bestTopicHeader" class="sClickable"
           :class="{ active: showBestTopics }"
           @click="showBestTopics = !showBestTopics">
        <i class="ic headerIcon">thumb_up</i>กระทู้แนะนำ<i class="ic dropdown">expand_more</i>
      </div>
      <div id="bestTopicList" :class="{ active: showBestTopics }">
        <best-topic-item v-for="topic in bestTopics" :data="topic"></best-topic-item>
      </div>
    </div>
    <div id="topicListHeader"><i class="ic headerIcon">schedule</i>กระทู้ล่าสุด</div>
    <div id="topicList">
      <topic-item v-for="topic in topics" :data.sync="topic"></topic-item>
      <button class="loadMore sButton sAccentBg sElevation0h2"
              :data-tid="loadMoreId"
              @click="loadMoreTopics">
        โหลดกระทู้เพิ่ม
      </button>
    </div>
  </div>
  <div class="searchPane" v-show="showSearch">
    <div class="searchContainer">
      <toolbar-icon icon="arrow_back" label="กลับไปหน้ารายชื่อกระทู้" @click="showSearch = false"></toolbar-icon>
      <input class="searchBar" type="text" v-model="searchQuery" placeholder="คำค้นหา..." @keyup.enter="doSearch">
      <toolbar-icon icon="search" label="ค้นหา" @click="doSearch"></toolbar-icon>
    </div>
    <div class="searchResultList">
      <div class="loading sAccentText"><i class="ic">refresh</i></div>
      <search-result-item v-for="topic in searchResults" :data="topic"></search-result-item>
    </div>
  </div>
</div>
<div id="belly">
  <div id="bellyHead" class="sPrimaryBg sElevation1">
    <div class="bellyTitle">{{ currentTitle }}</div>
    <div id="bellyToolbar">
      <div class="refreshButtonContainer" @click="refreshTopic">
        <toolbar-icon icon="refresh" label="รีเฟรชกระทู้"></toolbar-icon>
        <div class="refreshBadge sAccentBg" v-show="unreadComments">{{ unreadComments }}</div>
      </div>
      <toolbar-icon icon="open_in_new" label="เปิดใน Pantip.com" @click="openInPantip"></toolbar-icon>
    </div>
  </div>
  <div id="rightPane">
    <div class="loading sAccentText"><i class="ic">hourglass_full</i></div>
    <div id="topicView" class="sElevation1">
      <topic-view :data="topicData" v-show="currentTopic"></topic-view>
      <component :is="currentPage" v-show="!currentTopic"></component>
    </div>
    <comment-view v-show="currentTopic"></comment-view>
  </div>
  <div id="fab" class="disable sAccentBg sElevation4">
    <div class="topContainer sClickable"><i class="ic">expand_less</i></div>
    <div class="bottomContainer sClickable"><i class="ic">expand_more</i></div>
  </div>
</div>
<div id="lightBox" class="sClickable">
  <img src="" />
</div>
<theme-style></theme-style>
<script src="asset/js/jquery-3.1.0.js"></script>
<script src="asset/js/jquery.timeago.js"></script>
<script src="asset/js/main.js"></script>
</body>
</html>
